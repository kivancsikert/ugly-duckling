{
  "version": 1,
  "author": "Lóránt Pintér",
  "editor": "wokwi",
  "parts": [
    { "type": "board-esp32-s3-devkitc-1", "id": "esp", "top": -0.18, "left": 4.57, "attrs": {} },
    {
      "type": "wokwi-led",
      "id": "statusLed",
      "top": -32.4,
      "left": 186.2,
      "attrs": { "color": "white", "label": "Status" }
    },
    {
      "type": "wokwi-resistor",
      "id": "r1",
      "top": 32.75,
      "left": 163.2,
      "attrs": { "value": "22" }
    },
    {
      "type": "wokwi-led",
      "id": "statusLed2",
      "top": -32.4,
      "left": 253.4,
      "attrs": { "color": "white", "label": "Status-2" }
    },
    {
      "type": "wokwi-resistor",
      "id": "r7",
      "top": 32.75,
      "left": 230.4,
      "attrs": { "value": "22" }
    },
    {
      "type": "wokwi-potentiometer",
      "id": "battery",
      "top": -106.9,
      "left": 9.4,
      "attrs": { "value": "1000" }
    },
    {
      "type": "wokwi-pushbutton",
      "id": "btn1",
      "top": 169.4,
      "left": 153.6,
      "attrs": { "color": "green", "label": "Flash", "bounce": "0" }
    },
    {
      "type": "board-ds18b20",
      "id": "temp1",
      "top": -49.13,
      "left": -63.12,
      "attrs": { "deviceID": "010203040506", "family": "40", "temperature": "25.0" }
    },
    {
      "type": "wokwi-slide-potentiometer",
      "id": "soil-moisture",
      "top": 201.8,
      "left": -292.8,
      "rotate": 180,
      "attrs": { "travelLength": "45", "value": "511" }
    },
    {
      "type": "wokwi-text",
      "id": "text1",
      "top": 297.6,
      "left": -211.2,
      "attrs": { "text": "Soil moisture" }
    },
    {
      "type": "wokwi-text",
      "id": "text2",
      "top": -48,
      "left": -105.6,
      "attrs": { "text": "Soil\ntemp" }
    },
    {
      "type": "chip-pwm",
      "id": "pwm1",
      "top": 173.82,
      "left": -262.19,
      "attrs": { "coefficientHz": "4", "exponentHz": "2", "duty": "50" }
    },
    {
      "type": "wokwi-flip-flop-d",
      "id": "flop2",
      "top": 106,
      "left": -124.8,
      "rotate": 180,
      "attrs": {}
    },
    {
      "type": "wokwi-gate-and-2",
      "id": "and1",
      "top": 125.2,
      "left": -230.4,
      "rotate": 180,
      "attrs": {}
    },
    {
      "type": "wokwi-text",
      "id": "text3",
      "top": 144,
      "left": -105.6,
      "attrs": { "text": "Valve B" }
    },
    {
      "type": "wokwi-led",
      "id": "led-flow",
      "top": 6,
      "left": -274.6,
      "attrs": { "color": "blue", "label": "Flow" }
    },
    { "type": "wokwi-gnd", "id": "gnd1", "top": 124.8, "left": -269.4, "attrs": {} },
    {
      "type": "wokwi-resistor",
      "id": "r8",
      "top": 81.6,
      "left": -288.55,
      "rotate": 90,
      "attrs": { "value": "1000" }
    },
    {
      "type": "wokwi-text",
      "id": "text5",
      "top": -134.4,
      "left": 9.6,
      "attrs": { "text": "Batery" }
    },
    { "type": "wokwi-gnd", "id": "gnd2", "top": 288, "left": -307.8, "attrs": {} },
    { "type": "wokwi-vcc", "id": "vcc1", "top": 287.04, "left": -9.4, "rotate": 180, "attrs": {} },
    { "type": "wokwi-vcc", "id": "vcc2", "top": 18.24, "left": -38.2, "rotate": 180, "attrs": {} },
    { "type": "wokwi-gnd", "id": "gnd3", "top": 19.2, "left": -77.4, "attrs": {} },
    {
      "type": "chip-scope",
      "id": "scope-flow",
      "top": -210.18,
      "left": -388.8,
      "attrs": {
        "sampleTimeUs": "100",
        "trace0Color": "6"
      }
    }
  ],
  "connections": [
    [ "esp:TX", "$serialMonitor:RX", "", [] ],
    [ "esp:RX", "$serialMonitor:TX", "", [] ],
    [ "statusLed:C", "esp:2", "black", [] ],
    [ "statusLed:A", "r1:2", "green", [] ],
    [ "r1:1", "esp:3V3.2", "green", [ "v0" ] ],
    [ "battery:VCC", "esp:3V3.1", "red", [ "v0" ] ],
    [ "battery:GND", "esp:GND.2", "black", [ "v0" ] ],
    [ "battery:SIG", "esp:1", "green", [ "v0" ] ],
    [ "statusLed2:A", "r7:2", "green", [] ],
    [ "r7:1", "esp:3V3.2", "green", [ "v0" ] ],
    [ "statusLed2:C", "esp:4", "green", [ "v0" ] ],
    [ "esp:GND.4", "btn1:2.l", "black", [ "h0" ] ],
    [ "esp:0", "btn1:1.l", "green", [ "h0" ] ],
    [ "esp:15", "temp1:DQ", "green", [ "h0" ] ],
    [ "esp:6", "soil-moisture:SIG", "green", [ "h-28.85", "v162.4" ] ],
    [ "btn2:2.r", "esp:5", "green", [ "h9.8", "v19.4" ] ],
    [ "soil-moisture:VCC", "btn2:1.r", "red", [ "v0" ] ],
    [ "flop2:CLK", "esp:47", "green", [ "h0" ] ],
    [ "flop2:D", "esp:8", "green", [ "v-9.6", "h38.45" ] ],
    [ "led1:A", "and1:OUT", "green", [ "h9.6", "v96" ] ],
    [ "led1:C", "r8:1", "green", [ "h0" ] ],
    [ "gnd1:GND", "r8:2", "black", [ "v0" ] ],
    [ "and1:B", "flop2:Q", "green", [ "h0" ] ],
    [ "pwm1:OUT", "and1:A", "green", [ "h28.8", "v-48" ] ],
    [ "soil-moisture:GND", "gnd2:GND", "black", [ "v0", "h-14.8" ] ],
    [ "vcc1:VCC", "soil-moisture:VCC", "red", [ "v0" ] ],
    [ "vcc2:VCC", "temp1:VCC", "red", [ "v-9.6", "h-9.6" ] ],
    [ "gnd3:GND", "temp1:GND", "black", [ "v-9.6", "h9.6" ] ],
    [ "and1:OUT", "esp:5", "green", [ "h-9.6", "v-76.8" ] ],
    [ "led-flow:A", "and1:OUT", "green", [ "v19.2", "h9.6", "v76.8" ] ],
    [ "led-flow:C", "r8:1", "green", [ "v0" ] ],
    [ "and1:OUT", "scope-flow:D0", "green", [ "h-172.8", "v-336" ] ]
  ],
  "dependencies": {
    "chip-pwm": "github:Dlloydev/Wokwi-Chip-PWM@1.0.6",
    "chip-scope": "github:Dlloydev/Wokwi-Chip-scope@1.0.7"
  }
}
